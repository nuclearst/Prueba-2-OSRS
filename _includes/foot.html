<!-- Bootstrap bundle JS -->
<script src="{{ '/assets/lib/bootstrap.bundle.min.js' | relative_url }}"></script>

<!-- Carga de otros JS globales -->
<script src="{{ '/assets/lib/lazysizes.min.js' | relative_url }}" async></script>

<!-- (Opcional) Galería si la página o el layout lo piden -->
{% if layout.gallery == true or page.gallery == true %}
  <script src="{{ '/assets/lib/spotlight.bundle.js' | relative_url }}" defer></script>
{% endif %}

{%- comment -%}
  IMPORTANTE:
  Eliminamos los includes dinámicos tipo:
    {% for f in feet %}{% include {{ f }} %}{% endfor %}
  porque en Jekyll 3.x NO son válidos y rompen la build.
{%- endcomment -%}

{%- comment -%}
  Mapa (solo en páginas con layout: map):
  Aquí cargamos Leaflet y el script del mapa para evitar dependencias ocultas.
{%- endcomment -%}
{% if page.layout == "map" %}
  <!-- CSS opcional de Leaflet si no lo cargas en <head> -->
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/leaflet.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/leaflet.fullscreen.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/leaflet.fusesearch.css' | relative_url }}">

  <!-- JS de Leaflet y plugins que ya están en tu repo -->
  <script src="{{ '/assets/lib/leaflet/leaflet.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/Leaflet.fullscreen.min.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/leaflet.fusesearch.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/leaflet.markercluster.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/leaflet.markercluster.freezable.js' | relative_url }}"></script>

  <!-- Tu JS del mapa (usa CRS.Simple + imageOverlay) -->
  {% include js/map-js.html %}
{% endif %}

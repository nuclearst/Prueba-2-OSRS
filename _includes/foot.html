<!-- JS globales que sí usas en el tema (ajusta si no aplican): -->
<script src="{{ '/assets/lib/bootstrap.bundle.min.js' | relative_url }}"></script>
<script src="{{ '/assets/lib/lazysizes.min.js' | relative_url }}" async></script>

{%- comment -%}
Map only: evita lógica Liquid compleja aquí.
{%- endcomment -%}
{% if page.layout == "map" %}
  <!-- CSS de Leaflet (por si no está en <head>) -->
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/leaflet.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/leaflet.fullscreen.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/leaflet.fusesearch.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/MarkerCluster.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/lib/leaflet/MarkerCluster.Default.css' | relative_url }}">

  <!-- JS Leaflet + plugins que ya trae CollectionBuilder -->
  <script src="{{ '/assets/lib/leaflet/leaflet.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/Leaflet.fullscreen.min.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/fuse.min.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/leaflet.fusesearch.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/leaflet.markercluster.js' | relative_url }}"></script>
  <script src="{{ '/assets/lib/leaflet/leaflet.markercluster.freezable.js' | relative_url }}"></script>

  <!-- Tu script del mapa -->
  {% include js/map-js.html %}
{% endif %}
